(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{18:function(e,a,t){},3:function(e,a,t){e.exports={App:"Image_App__oD1sT",Searchbar:"Image_Searchbar__s3EvM",SearchForm:"Image_SearchForm__3WVof",SearchFormButton:"Image_SearchFormButton__W-HD0",SearchFormButtonLabel:"Image_SearchFormButtonLabel__1Bv6h",SearchFormInput:"Image_SearchFormInput__2EtKh",ImageGallery:"Image_ImageGallery__1Sy-D",ImageGalleryItemIMG:"Image_ImageGalleryItemIMG__DUVzb",ImageGalleryItemImage:"Image_ImageGalleryItemImage__ZnyDU",Overlay:"Image_Overlay__3ajmJ",Modal:"Image_Modal__3lsm1",ButtonContainer:"Image_ButtonContainer__50mgK",Button:"Image_Button__3XpPd",Loader:"Image_Loader__2poCC"}},41:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(8),c=t.n(o),i=(t(17),t(18),t(4)),s=t(5),m=t(7),l=t(6),u=t(9),g=(t(19),t(3)),h=t.n(g),d=t(1),p=function(e){Object(m.a)(t,e);var a=Object(l.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={imageName:""},e.handleNameChange=function(a){var t=a.currentTarget.value;e.setState({imageName:t.toLowerCase()})},e.handleSubmit=function(a){a.preventDefault();var t=e.state.imageName;""!==t.trim()?(e.props.onFormSubmit(t.trim()),e.setState({imageName:""})):Object(u.b)("Enter name of image, please!")},e}return Object(s.a)(t,[{key:"render",value:function(){var e=this.state.imageName,a=h.a.Searchbar,t=h.a.SearchForm,n=h.a.SearchFormButton,r=h.a.SearchFormButtonLabel,o=h.a.SearchFormInput;return Object(d.jsx)("header",{className:a,children:Object(d.jsxs)("form",{className:t,onSubmit:this.handleSubmit,children:[Object(d.jsx)("button",{type:"submit",className:n,children:Object(d.jsx)("span",{className:r,children:"Search"})}),Object(d.jsx)("input",{className:o,type:"text",name:"imageName",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:e,onChange:this.handleNameChange})]})})}}]),t}(n.Component),j=t(11),b=t(2),f=t.n(b);function v(e,a){var t="".concat("https://pixabay.com/api","/?image_type=photo&orientation=horizontal&q=").concat(e,"&page=").concat(a,"&per_page=").concat(12,"&key=").concat("22204382-c38be1b1e7fd4cceb3bc7515f");return fetch(t).then((function(a){return a.ok?a.json():Promise.reject(new Error("There is no image with name ".concat(e)))})).then((function(e){return e.hits}))}v.propTypes={name:f.a.string.isRequired,page:f.a.number.isRequired};var O=v,I=t(12),_=t.n(I);var y=function(){return Object(d.jsx)("div",{className:h.a.Loader,children:Object(d.jsx)(_.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})})};var S=function(e){var a=e.message;return Object(d.jsx)("p",{role:"alert",children:a})};var x=function(e){var a=e.largeImageURL,t=e.webformatURL,n=e.tags,r=e.onOpenLargeImg,o=h.a.ImageGalleryItemIMG,c=h.a.ImageGalleryItemImage;return Object(d.jsx)("li",{className:o,children:Object(d.jsx)("img",{onClick:function(){return r(a)},src:t,alt:n,className:c})})},w=document.querySelector("#modal-root"),N=function(e){Object(m.a)(t,e);var a=Object(l.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).handleKeyDown=function(a){"Escape"===a.code&&e.props.onToggleModal()},e.handleBackdropClick=function(a){a.currentTarget===a.target&&e.props.onToggleModal()},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=h.a.Overlay,a=h.a.Modal;return Object(o.createPortal)(Object(d.jsx)("div",{className:e,onClick:this.handleBackdropClick,children:Object(d.jsx)("div",{className:a,children:this.props.children})}),w)}}]),t}(n.Component);var L=function(e){var a=e.onLoadMoreClick,t=h.a.ButtonContainer,n=h.a.Button;return Object(d.jsx)("div",{className:t,children:Object(d.jsx)("button",{className:n,onClick:a,children:"Load more"})})},F=function(e){Object(m.a)(t,e);var a=Object(l.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={images:[],page:1,status:"idle",error:null,showModal:!1,largeImageURL:null},e.imagesFetchApi=function(){O(e.props.imageName,e.state.page).then((function(a){e.setState((function(e){return{images:[].concat(Object(j.a)(e.images),Object(j.a)(a)),page:e.page+1,status:"resolved"}}))})).catch((function(a){return e.setState({error:a,status:"rejected"})}))},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e.openLargeImg=function(a){e.setState({largeImageURL:a}),e.toggleModal()},e}return Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,a){e.imageName!==this.props.imageName&&(this.setState({page:1,images:[],error:null,status:"pending"}),this.imagesFetchApi()),a.page!==this.state.page&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this,a=this.state,t=a.images,n=a.error,r=a.status,o=h.a.ImageGallery;return"idle"===r?Object(d.jsx)("div",{children:" "}):"pending"===r?Object(d.jsx)(y,{}):"rejected"===r?Object(d.jsx)(S,{message:n.message}):"resolved"===r?Object(d.jsxs)("div",{children:[Object(d.jsx)("ul",{ref:this.ref,className:o,children:t.map((function(a){var t=a.id,n=a.webformatURL,r=a.tags,o=a.largeImageURL;return Object(d.jsx)(x,{webformatURL:n,tags:r,largeImageURL:o,onOpenLargeImg:e.openLargeImg},t)}))}),0!==t.length&&Object(d.jsx)(L,{onLoadMoreClick:this.imagesFetchApi}),this.state.showModal&&Object(d.jsx)(N,{onToggleModal:this.toggleModal,children:Object(d.jsx)("img",{src:this.state.largeImageURL,alt:""})})]}):void 0}}]),t}(n.Component),k=function(e){Object(m.a)(t,e);var a=Object(l.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={imageName:""},e.handleFormSubmit=function(a){e.setState({imageName:a})},e}return Object(s.a)(t,[{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(p,{onFormSubmit:this.handleFormSubmit}),Object(d.jsx)(F,{imageName:this.state.imageName}),Object(d.jsx)(u.a,{autoClose:3e3})]})}}]),t}(n.Component);c.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(k,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.c964cf71.chunk.js.map